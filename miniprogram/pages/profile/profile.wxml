<!-- profile.wxml -->

<!-- é¡µé¢å¤´ -->
<view class="page-header">
  <text class="page-header-title">ä¸ªäººä¸­å¿ƒ</text>
</view>
<view class="page-header-placeholder"></view>

<view class="container">
  <!-- ç”¨æˆ·ä¿¡æ¯å¤´éƒ¨ -->
  <view class="header-section">
    <view class="user-card">
      <view class="user-info">
        <image class="user-avatar" src="/images/avatar.png" mode="aspectFill"></image>
        <view class="user-details">
          <text class="user-name">{{userInfo.name}}</text>
          <text class="user-level">{{userInfo.level}} â€¢ å­¦ä¹ {{userInfo.studyDays}}å¤©</text>
        </view>
      </view>
      <view class="progress-section">
        <view class="progress-circle">
          <view class="progress-ring" style="transform: rotate({{progressPercentage * 3.6}}deg);"></view>
          <text class="progress-text">{{progressPercentage}}%</text>
        </view>
        <text class="progress-label">å­¦ä¹ è¿›åº¦</text>
      </view>
    </view>
  </view>

  <!-- ä¸ªäººä¸­å¿ƒåŠŸèƒ½èœå• -->
  <view class="menu-section">
    <view class="menu-grid">
      <view class="menu-item" bindtap="navigateToEditProfile">
        <view class="menu-icon">ğŸ‘¤</view>
        <text class="menu-title">ä¸ªäººä¿¡æ¯</text>
        <text class="menu-desc">ä¿®æ”¹ä¸ªäººèµ„æ–™</text>
      </view>
      
      <view class="menu-item" bindtap="navigateToStudyRecords">
        <view class="menu-icon">ğŸ“Š</view>
        <text class="menu-title">å­¦ä¹ è®°å½•</text>
        <text class="menu-desc">æŸ¥çœ‹å­¦ä¹ ç»Ÿè®¡</text>
      </view>
      
      <view class="menu-item" bindtap="navigateToAchievements">
        <view class="menu-icon">ğŸ†</view>
        <text class="menu-title">æˆå°±ç³»ç»Ÿ</text>
        <text class="menu-desc">æŸ¥çœ‹å­¦ä¹ æˆå°±</text>
      </view>
      
      <view class="menu-item" bindtap="navigateToSettings">
        <view class="menu-icon">âš™ï¸</view>
        <text class="menu-title">ç³»ç»Ÿè®¾ç½®</text>
        <text class="menu-desc">ä¸ªæ€§åŒ–é…ç½®</text>
      </view>
    </view>
  </view>

  <!-- å­¦ä¹ ç»Ÿè®¡ -->
  <view class="stats-section">
    <view class="stats-card">
      <view class="section-header">
        <text class="section-title">å­¦ä¹ ç»Ÿè®¡</text>
      </view>
      <view class="stats-grid">
        <view class="stat-item">
          <text class="stat-value">{{studyStats.totalHours}}</text>
          <text class="stat-label">å­¦ä¹ æ—¶é•¿(å°æ—¶)</text>
        </view>
        <view class="stat-item">
          <text class="stat-value">{{studyStats.completedExams}}</text>
          <text class="stat-label">å®Œæˆæµ‹è¯•</text>
        </view>
        <view class="stat-item">
          <text class="stat-value">{{studyStats.correctRate}}%</text>
          <text class="stat-label">æ­£ç¡®ç‡</text>
        </view>
        <view class="stat-item">
          <text class="stat-value">{{studyStats.continuousDays}}</text>
          <text class="stat-label">è¿ç»­å­¦ä¹ </text>
        </view>
      </view>
    </view>
  </view>

  <!-- è”ç³»æ–¹å¼ -->
  <view class="contact-section">
    <view class="contact-card">
      <view class="section-header">
        <text class="section-title">è”ç³»æ–¹å¼</text>
      </view>
      <view class="contact-content">
        <view class="contact-item" bindtap="showContactQRCode">
          <view class="contact-icon">ğŸ’¬</view>
          <view class="contact-info">
            <text class="contact-title">å®¢æœå¾®ä¿¡</text>
            <text class="contact-desc">ç‚¹å‡»æŸ¥çœ‹äºŒç»´ç </text>
          </view>
          <view class="contact-arrow">â€º</view>
        </view>
      </view>
    </view>
  </view>



  <!-- è”ç³»æ–¹å¼å¼¹çª— -->
  <view class="contact-modal {{showContactModal ? 'show' : ''}}" bindtap="hideContactModal">
    <view class="modal-content" catchtap="stopPropagation">
      <view class="modal-header">
        <text class="modal-title">å®¢æœè”ç³»</text>
        <view class="modal-close" bindtap="hideContactModal">Ã—</view>
      </view>
      <view class="qr-code-section">
        <image class="qr-code-image" src="/images/lianxifangshi.jpg" mode="aspectFit" show-menu-by-longpress="true"></image>
        <text class="qr-code-tip">é•¿æŒ‰äºŒç»´ç è¯†åˆ«è”ç³»å®¢æœ</text>
      </view>
      <view class="modal-footer">
        <text class="contact-info">å®¢æœå·¥ä½œæ—¶é—´ï¼š9:00-18:00</text>
      </view>
    </view>
  </view>
</view>

<!-- åº•éƒ¨æ‚¬æµ®èœå• -->
<bottom-tabbar current-tab="{{3}}"></bottom-tabbar>